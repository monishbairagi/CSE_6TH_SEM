-- creating Department Table
CREATE TABLE DEPT (
	DID INT(3) NOT NULL,
	DNAME VARCHAR(20) NOT NULL,
	PRIMARY KEY(DID)
);

-- creating Student Table
CREATE TABLE STUD (
	SID INT(5) NOT NULL,
	SNAME VARCHAR(20) NOT NULL,
	DID INT(3) NOT NULL,
	PRIMARY KEY(SID),
	FOREIGN KEY(DID) REFERENCES DEPT(DID)
);

-- Creating Extra Curriculam Activity Table
CREATE TABLE EXCA (
	EXCAID INT(3) NOT NULL,
	EXCANAME VARCHAR(10),
	PRIMARY KEY(EXCAID)
);

-- Creating Students Participation Table
CREATE TABLE STPT (
	SID INT(5) NOT NULL,
	EXCAID INT(3) NOT NULL,
	FOREIGN KEY(SID) REFERENCES STUD(SID),
	FOREIGN KEY(EXCAID) REFERENCES EXCA(EXCAID)
);

-- Inserting Values to Department Table
INSERT INTO DEPT VALUES(101,'CSE');
INSERT INTO DEPT VALUES(102,'ECE');
INSERT INTO DEPT VALUES(103,'EE');
INSERT INTO DEPT VALUES(104,'CE');
INSERT INTO DEPT VALUES(105,'ME');

-- Inserting Values to Student Table
INSERT INTO STUD VALUES(11,'Monish Bairagi',101);
INSERT INTO STUD VALUES(12,'Debarghya Mukherjee',103);
INSERT INTO STUD VALUES(13,'Koulik Das',104);
INSERT INTO STUD VALUES(14,'Aniket Chakrabarty',105);
INSERT INTO STUD VALUES(15,'Aishik Sikder',102);
INSERT INTO STUD VALUES(16,'Koushik Das',101);
INSERT INTO STUD VALUES(17,'Anindya Sarkar',102);
INSERT INTO STUD VALUES(18,'Shaswata Das',105);

-- Inserting Values to Extra Curriculam Activity Table
INSERT INTO EXCA VALUES(1,'CRICKET');
INSERT INTO EXCA VALUES(2,'FOOTBALL');
INSERT INTO EXCA VALUES(3,'BADMINTON');
INSERT INTO EXCA VALUES(4,'TENNIS');
INSERT INTO EXCA VALUES(5,'CHESS');
INSERT INTO EXCA VALUES(6,'KABADDI');

-- Inserting Values to Students Participation Table
INSERT INTO STPT VALUES(11,1);
INSERT INTO STPT VALUES(11,5);
INSERT INTO STPT VALUES(11,6);
INSERT INTO STPT VALUES(12,4);
INSERT INTO STPT VALUES(12,5);
INSERT INTO STPT VALUES(13,1);
INSERT INTO STPT VALUES(13,6);
INSERT INTO STPT VALUES(14,1);
INSERT INTO STPT VALUES(14,2);
INSERT INTO STPT VALUES(14,3);
INSERT INTO STPT VALUES(14,6);
INSERT INTO STPT VALUES(15,1);
INSERT INTO STPT VALUES(15,3);
INSERT INTO STPT VALUES(15,5);
INSERT INTO STPT VALUES(16,3);
INSERT INTO STPT VALUES(16,5);
INSERT INTO STPT VALUES(16,6);
INSERT INTO STPT VALUES(17,4);
INSERT INTO STPT VALUES(17,5);
INSERT INTO STPT VALUES(17,1);
INSERT INTO STPT VALUES(17,2);
INSERT INTO STPT VALUES(17,3);
INSERT INTO STPT VALUES(17,4);
INSERT INTO STPT VALUES(17,5);
INSERT INTO STPT VALUES(17,6);

--  Students Particiating in Cricket
SELECT SNAME FROM STUD WHERE SID IN (SELECT SID FROM STPT WHERE EXCAID=1);

-- All  Activities of a Particuler Student
SELECT EXCANAME FROM EXCA WHERE EXCAID IN (SELECT EXCAID FROM STPT WHERE SID=11);